{"remainingRequest":"D:\\MyProfile\\springboot-series\\vue-test\\node_modules\\babel-loader\\lib\\index.js!D:\\MyProfile\\springboot-series\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyProfile\\springboot-series\\vue-test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyProfile\\springboot-series\\vue-test\\src\\components\\Tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyProfile\\springboot-series\\vue-test\\src\\components\\Tags.vue","mtime":1607407308841},{"path":"D:\\MyProfile\\springboot-series\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyProfile\\springboot-series\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\MyProfile\\springboot-series\\vue-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyProfile\\springboot-series\\vue-test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3aWR0aDogMzAwLAogICAgICBoZWlnaHQ6IDMwMCwKICAgICAgdGFnc051bTogMjAsCiAgICAgIFJBRElVUzogMjAwLAogICAgICBzcGVlZFg6IE1hdGguUEkgLyAzNjAsCiAgICAgIHNwZWVkWTogTWF0aC5QSSAvIDM2MCwKICAgICAgdGFnczogW10KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIENYKCkgewogICAgICByZXR1cm4gdGhpcy53aWR0aCAvIDI7CiAgICB9LAoKICAgIENZKCkgewogICAgICByZXR1cm4gdGhpcy5oZWlnaHQgLyAyOwogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgLy/liJ3lp4vljJbmoIfnrb7kvY3nva4KICAgIHRoaXMuZ2V0VGFnc0xpc3QoKTsKICB9LAoKICBtb3VudGVkKCkgewogICAgLy/kvb/nkIPlvIDlp4vml4vovawKICAgIHNldEludGVydmFsKCgpID0+IHsKICAgICAgdGhpcy5yb3RhdGVYKHRoaXMuc3BlZWRYKTsKICAgICAgdGhpcy5yb3RhdGVZKHRoaXMuc3BlZWRZKTsKICAgIH0sIDE3KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBzZXRLZXlXb3JkKHRhZ05hbWUpIHsKICAgICAgdGhpcy4kZW1pdCgnc2V0S2V5V29yZCcsIHRhZ05hbWUpOwogICAgfSwKCiAgICBhc3luYyBnZXRUYWdzTGlzdCgpIHsKICAgICAgY29uc3QgewogICAgICAgIGRhdGE6IHJlcwogICAgICB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJ2dldFRhZ0xpc3QnKTsKICAgICAgbGV0IHRhZ3MgPSBbXTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLmRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgdGFnID0ge307CiAgICAgICAgbGV0IGsgPSAtMSArICgyICogKGkgKyAxKSAtIDEpIC8gcmVzLmRhdGEubGVuZ3RoOwogICAgICAgIGxldCBhID0gTWF0aC5hY29zKGspOwogICAgICAgIGxldCBiID0gYSAqIE1hdGguc3FydChyZXMuZGF0YS5sZW5ndGggKiBNYXRoLlBJKTsgLy/orqHnrpfmoIfnrb7nm7jlr7nkuo7nkIPlv4PnmoTop5LluqYKCiAgICAgICAgdGFnLnRhZ05hbWUgPSByZXMuZGF0YVtpXTsKICAgICAgICB0YWcueCA9IHRoaXMuQ1ggKyB0aGlzLlJBRElVUyAqIE1hdGguc2luKGEpICogTWF0aC5jb3MoYik7IC8v5qC55o2u5qCH562+6KeS5bqm5rGC5Ye65qCH562+55qEeCx5LHrlnZDmoIcKCiAgICAgICAgdGFnLnkgPSB0aGlzLkNZICsgdGhpcy5SQURJVVMgKiBNYXRoLnNpbihhKSAqIE1hdGguc2luKGIpOwogICAgICAgIHRhZy56ID0gdGhpcy5SQURJVVMgKiBNYXRoLmNvcyhhKTsKICAgICAgICB0YWdzLnB1c2godGFnKTsKICAgICAgfQoKICAgICAgdGhpcy50YWdzID0gdGFnczsKICAgIH0sCgogICAgcm90YXRlWChhbmdsZVgpIHsKICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlWCk7CiAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZVgpOwoKICAgICAgZm9yIChsZXQgdGFnIG9mIHRoaXMudGFncykgewogICAgICAgIHZhciB5MSA9ICh0YWcueSAtIHRoaXMuQ1kpICogY29zIC0gdGFnLnogKiBzaW4gKyB0aGlzLkNZOwogICAgICAgIHZhciB6MSA9IHRhZy56ICogY29zICsgKHRhZy55IC0gdGhpcy5DWSkgKiBzaW47CiAgICAgICAgdGFnLnkgPSB5MTsKICAgICAgICB0YWcueiA9IHoxOwogICAgICB9CiAgICB9LAoKICAgIHJvdGF0ZVkoYW5nbGVZKSB7CiAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZVkpOwogICAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGVZKTsKCiAgICAgIGZvciAobGV0IHRhZyBvZiB0aGlzLnRhZ3MpIHsKICAgICAgICB2YXIgeDEgPSAodGFnLnggLSB0aGlzLkNYKSAqIGNvcyAtIHRhZy56ICogc2luICsgdGhpcy5DWDsKICAgICAgICB2YXIgejEgPSB0YWcueiAqIGNvcyArICh0YWcueCAtIHRoaXMuQ1gpICogc2luOwogICAgICAgIHRhZy54ID0geDE7CiAgICAgICAgdGFnLnogPSB6MTsKICAgICAgfQogICAgfSwKCiAgICBsaXN0ZW5lcihldmVudCkgewogICAgICAvL+WTjeW6lOm8oOagh+enu+WKqAogICAgICB2YXIgeCA9IGV2ZW50LmNsaWVudFggLSB0aGlzLkNYOwogICAgICB2YXIgeSA9IGV2ZW50LmNsaWVudFkgLSB0aGlzLkNZOwogICAgICB0aGlzLnNwZWVkWCA9IHggKiAwLjAwMDEgPiAwID8gTWF0aC5taW4odGhpcy5SQURJVVMgKiAwLjAwMDAyLCB4ICogMC4wMDAxKSA6IE1hdGgubWF4KC10aGlzLlJBRElVUyAqIDAuMDAwMDIsIHggKiAwLjAwMDEpOwogICAgICB0aGlzLnNwZWVkWSA9IHkgKiAwLjAwMDEgPiAwID8gTWF0aC5taW4odGhpcy5SQURJVVMgKiAwLjAwMDAyLCB5ICogMC4wMDAxKSA6IE1hdGgubWF4KC10aGlzLlJBRElVUyAqIDAuMDAwMDIsIHkgKiAwLjAwMDEpOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Tags.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <svg :width='width' :height='height' @mousemove='listener($event)'>\r\n      <a @click=\"setKeyWord(tag.tagName)\" v-for='(tag,index) in tags' :key=\"index\">\r\n        <text :x='tag.x' :y='tag.y' :font-size='20 * (600/(600-tag.z))' :fill-opacity='((400+tag.z)/600)'>{{tag.tagName}}</text>\r\n      </a>\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      width:300,\r\n      height:300,\r\n      tagsNum:20,\r\n      RADIUS:200,\r\n      speedX:Math.PI/360,\r\n      speedY:Math.PI/360,\r\n      tags: []\r\n    }\r\n  },\r\n  computed:{\r\n    CX(){\r\n      return this.width/2;\r\n    },\r\n    CY(){\r\n      return this.height/2;\r\n    }\r\n  },\r\n  created(){//初始化标签位置\r\n    this.getTagsList()\r\n  },\r\n  mounted(){//使球开始旋转\r\n    setInterval(() => {\r\n      this.rotateX(this.speedX);\r\n      this.rotateY(this.speedY);\r\n    }, 17)\r\n  },\r\n  methods: {\r\n\r\n\r\n    setKeyWord(tagName){\r\n      this.$emit('setKeyWord',tagName)\r\n    },\r\n\r\n    async getTagsList() {\r\n      const {data: res} = await this.$http.get('getTagList')\r\n      let tags=[];\r\n\r\n      for (let i = 0; i < res.data.length; i++) {\r\n        let tag = {};\r\n        let k = -1 + (2 * (i + 1) - 1) / res.data.length;\r\n        let a = Math.acos(k);\r\n        let b = a * Math.sqrt(res.data.length * Math.PI)//计算标签相对于球心的角度\r\n        tag.tagName = res.data[i];\r\n        tag.x = this.CX +  this.RADIUS * Math.sin(a) * Math.cos(b);//根据标签角度求出标签的x,y,z坐标\r\n        tag.y = this.CY +  this.RADIUS * Math.sin(a) * Math.sin(b);\r\n        tag.z = this.RADIUS * Math.cos(a);\r\n        tags.push(tag);\r\n      }\r\n\r\n\r\n\r\n      this.tags = tags\r\n\r\n    },\r\n    rotateX(angleX){\r\n      var cos = Math.cos(angleX);\r\n      var sin = Math.sin(angleX);\r\n      for(let tag of this.tags){\r\n        var y1 = (tag.y- this.CY) * cos - tag.z * sin  + this.CY;\r\n        var z1 = tag.z * cos + (tag.y- this.CY) * sin;\r\n        tag.y = y1;\r\n        tag.z = z1;\r\n      }\r\n    },\r\n    rotateY(angleY){\r\n      var cos = Math.cos(angleY);\r\n      var sin = Math.sin(angleY);\r\n      for(let tag of this.tags){\r\n        var x1 = (tag.x - this.CX) * cos - tag.z * sin + this.CX;\r\n        var z1 = tag.z * cos + (tag.x-this.CX) * sin;\r\n        tag.x = x1;\r\n        tag.z = z1;\r\n      }\r\n    },\r\n    listener(event){//响应鼠标移动\r\n      var x = event.clientX - this.CX;\r\n      var y = event.clientY - this.CY;\r\n      this.speedX = x*0.0001>0 ? Math.min(this.RADIUS*0.00002, x*0.0001) : Math.max(-this.RADIUS*0.00002, x*0.0001);\r\n      this.speedY = y*0.0001>0 ? Math.min(this.RADIUS*0.00002, y*0.0001) : Math.max(-this.RADIUS*0.00002, y*0.0001);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}